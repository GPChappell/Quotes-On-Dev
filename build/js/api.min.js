!function(e){var t;e("#new-quote-button").on("click",function(o){o.preventDefault(),document.URL,e.ajax({method:"GET",url:api_vars.root_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",success:function(o){t=o[0];var n=api_vars.home_url+"/"+t.slug+"/";e(".entry-content p").replaceWith(t.content.rendered),e(".entry-content .entry-meta .entry-title").html("&mdash; "+t.title.rendered),0!==t._qod_quote_source.length&&0!==t._qod_quote_source_url.length?e(".entry-content .entry-meta .source").html(', <a href="'+t._qod_quote_source_url+'">'+t._qod_quote_source+"</a>"):0!==t._qod_quote_source.length?e(".entry-content .entry-meta .source").html(", "+t._qod_quote_source):e(".entry-content .entry-meta .source").text(""),history.pushState(null,null,n)},error:function(){e(".entry-content p").replaceWith("</p>Sorry, new post could not be retrieve</p>"),e(".entry-content .entry-meta .entry-title").html(""),e(".entry-content .entry-meta .source").html("")}}),window.onpopstate=function(e){if(1===window.location.hash.indexOf("qm-overview"))return!1;window.location.replace("")}})}(jQuery),function(e){e("#submit-quote-button").on("click",function(t){t.preventDefault();var o={status:"pending",title:e("#quote-author").val(),content:e("#quote-content").val(),_qod_quote_source:e("#quote-source").val(),_qod_quote_source_url:e("#quote-source-url").val()};e.ajax({method:"post",url:api_vars.root_url+"wp/v2/posts/",data:o,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)},success:function(){e("#quote-submission-form").hide("slow"),e(".entry-title").after("<p>"+api_vars.success+"</p>")},error:function(){e("#quote-submission-form").hide("slow"),e(".entry-title").after("<p>"+api_vars.failure+"</p>")}})})}(jQuery);